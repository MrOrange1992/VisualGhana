<agm-map
  id="ghanaMap"
  [styles]="customMapStyles"
  [zoom]="zoom"
  [fitBounds]="latlngBounds"
  [mapDraggable]="true"
  (mapClick)="clickedMap($event)"
  (zoomChange)="zoomChange($event)"
>

  <!---------------------------- LINES ----------------------------->

  <!-- POWERLINES -->
  <agm-data-layer
    (layerClick)="clickedPowerLines($event)"
    [style]="stylesService.loadPowerLineStyles"
    [geoJson]=powerLines
  ></agm-data-layer>

  <!-- ROADS -->
  <agm-data-layer
    (layerClick)="clickedSurfaceRoads($event)"
    [style]="stylesService.loadRoadStyles"
    [geoJson]="surfaceRoads"
  ></agm-data-layer>

  <!-- AULA TERRA -->
  <agm-data-layer
    (layerClick)="clickedAulaTerraRoad($event)"
    [style]="stylesService.loadAulaTerraRoadStyles"
    [geoJson]="aulaTerra"
  ></agm-data-layer>

  <!---------------------------- POLYGONS ----------------------------->

  <!-- OVERLAY (rest of africa) -->
  <agm-data-layer
    [style]="stylesService.loadOverLayStyles"
    [geoJson]=overlay
  ></agm-data-layer>

  <!-- POPULATION DENSITY -->
  <agm-data-layer
    [style]="stylesService.loadPopulationTileStyles"
    [geoJson]=populationTiles
  ></agm-data-layer>

  <!-- DISTRICTS -->
  <agm-data-layer
    (layerClick)="clickedRegion($event)"
    [style]=""
    [geoJson]=regions
  ></agm-data-layer>

  <!---------------------------- POINTS ----------------------------->

  <!--load Zipline-->
  <agm-marker
    [latitude]="-1.882"
    [longitude]="29.787"
    (markerClick)="loadziplineimage()"
  >
  </agm-marker>

  <!--load MKopa-->
  <agm-marker
    [latitude]="-0.0217"
    [longitude]="37.5819"
    (markerClick)="loadmkopaimage()"
  >
  </agm-marker>

  <!--load DR.One-->
  <!--<agm-marker
    [latitude]="9.1029"
    [longitude]="-1.2660"
    (markerClick)="loaddroneimage()"
  >
  </agm-marker>-->

  <!--load PEGAfrica-->
 <!-- <agm-marker
    [latitude]="6.2680"
    [longitude]="-1.2457"
    (markerClick)="loadpegafricaimage()"
  >
  </agm-marker>-->

  <!-- INFO WINDOW on click event -->
  <agm-marker [latitude]="infoLatitude" [longitude]="infoLongitude" [visible]="false">
    <agm-info-window [disableAutoPan]="true" [isOpen]="infoVisible" #infoWindow>
      <div *ngIf="infoGeoJsonObject">
        <p *ngIf="infoGeoJsonObject.name">Name: <strong>{{infoGeoJsonObject.name}}</strong></p>
        <p *ngIf="infoGeoJsonObject.type">Type: <strong>{{infoGeoJsonObject.type}}</strong></p>
        <p *ngIf="infoGeoJsonObject.capacity">Capacity: <strong>{{infoGeoJsonObject.capacity}}</strong> [MW]</p>
        <p *ngIf="infoGeoJsonObject.voltage_kV">Voltage: <strong>{{infoGeoJsonObject.voltage_kV}}</strong> [kV]</p>
        <p *ngIf="infoGeoJsonObject.surface">Surface: <strong>{{infoGeoJsonObject.surface}}</strong></p>
        <p *ngIf="infoGeoJsonObject.highway">Road type: <strong>{{infoGeoJsonObject.highway}}</strong></p>
        <p *ngIf="infoGeoJsonObject.vicinity">Vicinity: <strong>{{infoGeoJsonObject.vicinity}}</strong></p>
        <p *ngIf="infoGeoJsonObject.adm2">Province: <strong>{{infoGeoJsonObject.adm2}}</strong></p>

      </div>
    </agm-info-window>
  </agm-marker>

  <!---------------------------- CIRCLES ----------------------------->

  <agm-circle *ngFor="let powerPlant of powerPlants"
              [latitude]="powerPlant.latitude"
              [longitude]="powerPlant.longitude"
              [circleDraggable]="false"
              [editable]="false"
              [fillColor]="powerPlant.color"
              [fillOpacity]="0.8"
              [radius]="powerPlant.radius"
              (circleClick)="clickedObject(powerPlant)"
              (mouseOver)="mouseOverObject(powerPlant)"
              (mouseOut)="mouseOutObject(powerPlant)"
  ></agm-circle>

  <agm-circle *ngFor="let healthSite of healthSites"
              [latitude]="healthSite.latitude"
              [longitude]="healthSite.longitude"
              [circleDraggable]="false"
              [editable]="false"
              [fillColor]="healthSite.color"
              [fillOpacity]="0.8"
              [(radius)]="healthSite.radius"
              (circleClick)="clickedObject(healthSite)"

  ></agm-circle>

  <agm-circle *ngFor="let airport of airports"
              [latitude]="airport.latitude"
              [longitude]="airport.longitude"
              [circleDraggable]="false"
              [editable]="false"
              [fillColor]="airport.color"
              [fillOpacity]="0.8"
              [(radius)]="airport.radius"
              (circleClick)="clickedObject(airport)"
  ></agm-circle>

  <agm-circle *ngFor="let educationSite of educationSites"
              [latitude]="educationSite.latitude"
              [longitude]="educationSite.longitude"
              [circleDraggable]="false"
              [editable]="false"
              [fillColor]="educationSite.color"
              [fillOpacity]="0.8"
              [(radius)]="educationSite.radius"
              (circleClick)="clickedObject(educationSite)"
  ></agm-circle>
</agm-map>


<div class="infoPanel">

  <div class="infoPanelSection title">
    VISUAL GHANA
    <button class="aulaterraButton" (click)="loadAulaterraRoad()">
      Aula Terra
    </button>
  </div>

  <div class="infoPanelSection szenarios">
    <div class="szenarioButton infrastructureButton" (click)="loadInfrastructureConfig()">
        Infrastructure
    </div>
    <div class="szenarioButton technologyButton" (click)="loadTechnologyConfig()">
        Technology
    </div>
    <div class="szenarioButton concepteButton" (click)="loadConceptConfig()">
        Concept
    </div>
  </div>

  <div class="infoPanelSection clickable">
    <button class="loadButton loadPower" (click)="loadPower()">
       Power
    </button>
    <button class="loadButton loadHealthSite" (click)="loadHealthSites()">
       Health Sites
    </button>
    <button class="loadButton loadTransportation" (click)="loadTransportation()">
       Transportation
    </button>
    <button class="loadButton" (click)="loadEducation()">
       Education
    </button>
    <button class="loadButton" (click)="loadPopulationTiles()">
       Population Density
    </button>
    <button class="loadButton" (click)="loadRegions()">
      Provinces
    </button>

  </div>

  <div class="infoPanelSection info">



    <mgl-timeline>
      <mgl-timeline-entry>



        <mgl-timeline-entry-dot

        ></mgl-timeline-entry-dot>
      </mgl-timeline-entry>

    </mgl-timeline>

    <div *ngIf="showziplineimg">
      <img src="../../assets/img/Zipline.png" width="100%"  >
    </div>

    <div *ngIf="showmkopaimg">
      <img src="../../assets/img/MKopa.png" width="100%" >
    </div>

    <div *ngIf="showdroneimg">
      <img src="../../assets/img/DrOne.png" width="100%" >
    </div>

    <div *ngIf="showpegafricaimg">
      <img src="../../assets/img/PEGAfrica.png" width="100%" >
    </div>

    <div *ngIf="infoGeoJsonObject">
      <p *ngIf="infoGeoJsonObject.name">Name: <strong>{{infoGeoJsonObject.name}}</strong></p>
      <p *ngIf="infoGeoJsonObject.capacity">Capacity: <strong>{{infoGeoJsonObject.capacity}} [MW]</strong></p>
      <p *ngIf="infoGeoJsonObject.type">Type: <strong>{{infoGeoJsonObject.type}}</strong></p>
    </div>

    <div class="canvasBlock">
      <canvas class="chartCanvas" id="chartCanvas">{{chart}}</canvas>
    </div>

  </div>



</div>


